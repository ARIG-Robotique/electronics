(kicad_sch (version 20230121) (generator eeschema)

  (uuid ac9748ae-37ed-4fb6-9423-e3c15422a22b)

  (paper "A4")

  (lib_symbols
    (symbol "Device:R_Small_US" (pin_numbers hide) (pin_names (offset 0.254) hide) (in_bom yes) (on_board yes)
      (property "Reference" "R" (at 0.762 0.508 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "R_Small_US" (at 0.762 -1.016 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "r resistor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Resistor, small US symbol" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "R_*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_Small_US_1_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 1.016 -0.381)
            (xy 0 -0.762)
            (xy -1.016 -1.143)
            (xy 0 -1.524)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 1.524)
            (xy 1.016 1.143)
            (xy 0 0.762)
            (xy -1.016 0.381)
            (xy 0 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (pin passive line (at 0 2.54 270) (length 1.016)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -2.54 90) (length 1.016)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "MasterAlimSTM32-rescue:+3.3V-power" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "+3.3V-power" (at 0 3.556 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "+3.3V-power_0_1"
        (polyline
          (pts
            (xy -0.762 1.27)
            (xy 0 2.54)
          )
          (stroke (width 0) (type solid))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 0)
            (xy 0 2.54)
          )
          (stroke (width 0) (type solid))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 2.54)
            (xy 0.762 1.27)
          )
          (stroke (width 0) (type solid))
          (fill (type none))
        )
      )
      (symbol "+3.3V-power_1_1"
        (pin power_in line (at 0 0 90) (length 0) hide
          (name "+3V3" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Transistor_FET:BSS138" (pin_names hide) (in_bom yes) (on_board yes)
      (property "Reference" "Q" (at 5.08 1.905 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Value" "BSS138" (at 5.08 0 0)
        (effects (font (size 1.27 1.27)) (justify left))
      )
      (property "Footprint" "Package_TO_SOT_SMD:SOT-23" (at 5.08 -1.905 0)
        (effects (font (size 1.27 1.27) italic) (justify left) hide)
      )
      (property "Datasheet" "https://www.onsemi.com/pub/Collateral/BSS138-D.PDF" (at 5.08 -3.81 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "ki_keywords" "N-Channel MOSFET" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "50V Vds, 0.22A Id, N-Channel MOSFET, SOT-23" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "SOT?23*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "BSS138_0_1"
        (polyline
          (pts
            (xy 0.254 0)
            (xy -2.54 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.254 1.905)
            (xy 0.254 -1.905)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 -1.27)
            (xy 0.762 -2.286)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 0.508)
            (xy 0.762 -0.508)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 2.286)
            (xy 0.762 1.27)
          )
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.54 2.54)
            (xy 2.54 1.778)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.54 -2.54)
            (xy 2.54 0)
            (xy 0.762 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0.762 -1.778)
            (xy 3.302 -1.778)
            (xy 3.302 1.778)
            (xy 0.762 1.778)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.016 0)
            (xy 2.032 0.381)
            (xy 2.032 -0.381)
            (xy 1.016 0)
          )
          (stroke (width 0) (type default))
          (fill (type outline))
        )
        (polyline
          (pts
            (xy 2.794 0.508)
            (xy 2.921 0.381)
            (xy 3.683 0.381)
            (xy 3.81 0.254)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 3.302 0.381)
            (xy 2.921 -0.254)
            (xy 3.683 -0.254)
            (xy 3.302 0.381)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (circle (center 1.651 0) (radius 2.794)
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
        (circle (center 2.54 -1.778) (radius 0.254)
          (stroke (width 0) (type default))
          (fill (type outline))
        )
        (circle (center 2.54 1.778) (radius 0.254)
          (stroke (width 0) (type default))
          (fill (type outline))
        )
      )
      (symbol "BSS138_1_1"
        (pin input line (at -5.08 0 0) (length 2.54)
          (name "G" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 2.54 -5.08 90) (length 2.54)
          (name "S" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 2.54 5.08 270) (length 2.54)
          (name "D" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:+5V" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "+5V" (at 0 3.556 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"+5V\"" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "+5V_0_1"
        (polyline
          (pts
            (xy -0.762 1.27)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 0)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 2.54)
            (xy 0.762 1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "+5V_1_1"
        (pin power_in line (at 0 0 90) (length 0) hide
          (name "+5V" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 148.59 122.428) (diameter 0) (color 0 0 0 0)
    (uuid 0426c1b0-d873-4501-aa84-84b3b863e7f2)
  )
  (junction (at 165.862 138.176) (diameter 0) (color 0 0 0 0)
    (uuid 77a1ee3e-928e-47d8-95ea-067424fb2fc5)
  )
  (junction (at 148.59 138.176) (diameter 0) (color 0 0 0 0)
    (uuid b31dcad4-fa8d-4bc3-9be3-0a858835e3ee)
  )

  (wire (pts (xy 148.59 138.176) (xy 144.018 138.176))
    (stroke (width 0) (type default))
    (uuid 04cec87a-6a9a-4aba-a1ba-d6f5beee7cdc)
  )
  (wire (pts (xy 148.59 128.27) (xy 148.59 138.176))
    (stroke (width 0) (type default))
    (uuid 134c350b-b1f1-4fc6-a636-bba3a11f3475)
  )
  (wire (pts (xy 148.59 138.176) (xy 154.178 138.176))
    (stroke (width 0) (type default))
    (uuid 21bced5a-e053-4806-b82f-0d006267d52f)
  )
  (wire (pts (xy 165.862 138.176) (xy 165.862 128.27))
    (stroke (width 0) (type default))
    (uuid 4f352b66-4c06-4ce5-b13e-f0ab5d9439a8)
  )
  (wire (pts (xy 164.338 138.176) (xy 165.862 138.176))
    (stroke (width 0) (type default))
    (uuid 63fd4ada-cd40-4c58-8fc8-c8bea5ec178b)
  )
  (wire (pts (xy 159.258 130.556) (xy 159.258 122.428))
    (stroke (width 0) (type default))
    (uuid 7ad0f3b6-3b8c-4b9f-95f1-5830d8661bcb)
  )
  (wire (pts (xy 159.258 122.428) (xy 148.59 122.428))
    (stroke (width 0) (type default))
    (uuid 7c97b805-28c8-4e52-97df-d38a3f38e127)
  )
  (wire (pts (xy 165.862 121.666) (xy 165.862 123.19))
    (stroke (width 0) (type default))
    (uuid 9dbcf585-02ac-4aa2-8ce9-713042c76a79)
  )
  (wire (pts (xy 148.59 122.428) (xy 148.59 121.92))
    (stroke (width 0) (type default))
    (uuid aea80f97-f950-4309-84b1-63dbf0bc9d08)
  )
  (wire (pts (xy 148.59 123.19) (xy 148.59 122.428))
    (stroke (width 0) (type default))
    (uuid da0f8ab4-3612-4c3c-87c8-e8537459adcd)
  )
  (wire (pts (xy 165.862 138.176) (xy 170.18 138.176))
    (stroke (width 0) (type default))
    (uuid e482a9e3-d0e9-4b50-9fce-f409fd75557d)
  )

  (hierarchical_label "LV" (shape input) (at 144.018 138.176 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 6d8c2db9-e48f-49f8-95de-a240ebca7116)
  )
  (hierarchical_label "HV" (shape input) (at 170.18 138.176 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 906b855c-7f5d-4ce0-8870-5f8a999d89b2)
  )

  (symbol (lib_id "MasterAlimSTM32-rescue:+3.3V-power") (at 148.59 121.92 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-000060a5c33b)
    (property "Reference" "#PWR0151" (at 148.59 125.73 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "+3.3V" (at 148.971 117.5258 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 148.59 121.92 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 148.59 121.92 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid e6d57a92-885e-4764-a9e0-ce5faaffd7d0))
    (instances
      (project "MasterAlimSTM32"
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060ac988e"
          (reference "#PWR0151") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b0e1e1"
          (reference "#PWR0155") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b1a7b2"
          (reference "#PWR0159") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b0e1dc"
          (reference "#PWR0153") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060a5b5f2"
          (reference "#PWR0149") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b1a7ad"
          (reference "#PWR0157") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:+5V") (at 165.862 121.666 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-000060a5c83d)
    (property "Reference" "#PWR0152" (at 165.862 125.476 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "+5V" (at 166.243 117.2718 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "" (at 165.862 121.666 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 165.862 121.666 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid a6d3542d-bd0d-492a-b3e6-d86d1b783436))
    (instances
      (project "MasterAlimSTM32"
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060ac988e"
          (reference "#PWR0152") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b0e1e1"
          (reference "#PWR0156") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b1a7b2"
          (reference "#PWR0160") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b0e1dc"
          (reference "#PWR0154") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060a5b5f2"
          (reference "#PWR0150") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b1a7ad"
          (reference "#PWR0158") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Transistor_FET:BSS138") (at 159.258 135.636 270) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-000060a5cfb1)
    (property "Reference" "Q2" (at 159.258 141.9606 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "BSS138" (at 159.258 144.272 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Package_TO_SOT_SMD:SOT-23" (at 157.353 140.716 0)
      (effects (font (size 1.27 1.27) italic) (justify left) hide)
    )
    (property "Datasheet" "https://www.onsemi.com/pub/Collateral/BSS138-D.PDF" (at 159.258 135.636 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (pin "1" (uuid b3abd220-49c1-471a-8d9c-703dec1cbbf0))
    (pin "2" (uuid 95eab2da-de16-4199-a1df-8ff6cadd27ed))
    (pin "3" (uuid d29964e4-eeaa-4044-8bb5-8811c3e4fa29))
    (instances
      (project "MasterAlimSTM32"
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060ac988e"
          (reference "Q2") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b0e1e1"
          (reference "Q4") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b1a7b2"
          (reference "Q6") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b0e1dc"
          (reference "Q3") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060a5b5f2"
          (reference "Q1") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b1a7ad"
          (reference "Q5") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:R_Small_US") (at 165.862 125.73 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-000060a618c8)
    (property "Reference" "R17" (at 167.5892 124.5616 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "10k" (at 167.5892 126.873 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (at 165.862 125.73 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 165.862 125.73 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 48ee0a56-e194-4325-a581-f9460759d44f))
    (pin "2" (uuid e513c5c3-daae-40f5-9b9f-713e8514f0b4))
    (instances
      (project "MasterAlimSTM32"
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060ac988e"
          (reference "R17") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b0e1e1"
          (reference "R21") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b1a7b2"
          (reference "R25") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b0e1dc"
          (reference "R19") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060a5b5f2"
          (reference "R15") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b1a7ad"
          (reference "R23") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:R_Small_US") (at 148.59 125.73 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no)
    (uuid 00000000-0000-0000-0000-000060a62254)
    (property "Reference" "R16" (at 150.3172 124.5616 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "10k" (at 150.3172 126.873 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (at 148.59 125.73 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 148.59 125.73 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid bc67a2c8-38c4-4ae8-bf3b-024ff222f40d))
    (pin "2" (uuid 90c924e8-d918-4f45-bc6d-b7bf3b281df9))
    (instances
      (project "MasterAlimSTM32"
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060ac988e"
          (reference "R16") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b0e1e1"
          (reference "R20") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b1a7b2"
          (reference "R24") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b0e1dc"
          (reference "R18") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060a5b5f2"
          (reference "R14") (unit 1)
        )
        (path "/d8f69e61-4a0f-47ea-a870-4649be6b5ef4/00000000-0000-0000-0000-000060b1a7ad"
          (reference "R22") (unit 1)
        )
      )
    )
  )
)
